% Validation de http://cregut.svn.enseeiht.fr/2020/1sn/pim/tps/houkhnin/tp10
% Run on 2021-01-20 23:04:34.456448


################################################################################
# Modification des fichiers fournis
################################################################################


================================================================================
## Fichiers qui NE devaient PAS être modifiés
================================================================================

* Fichier alea.adb non modifié... ok
* Fichier alea.ads non modifié... ok
* Fichier exemple_alea.adb non modifié... ok
* Fichier exemple_unbounded_string.adb non modifié... ok
* Fichier sda_exceptions.ads non modifié... ok
* Fichier test_lca.adb non modifié... ERREUR

  | 5,6c5,6
  | < 	--! Les Unbounded_String ont une capacité variable, contrairement au String
  | < 	--! pour lesquelles une capacité doit être fixée.
  | ---
  | > 	--! Les Unbounded_String ont une capacitÃ© variable, contrairement au String
  | > 	--! pour lesquelles une capacitÃ© doit Ãªtre fixÃ©e.
  | 15c15
  | < 	-- Retourner une chaîne avec des guillemets autour de S
  | ---
  | > 	-- Retourner une chaÃ®ne avec des guillemets autour de S
  | 21,23c21,23
  | < 	-- Utiliser & entre String à gauche et Unbounded_String à droite.  Des
  | < 	-- guillemets sont ajoutées autour de la Unbounded_String 
  | < 	-- Il s'agit d'un masquage de l'opérteur & défini dans Strings.Unbounded
  | ---
  | > 	-- Utiliser & entre String Ã  gauche et Unbounded_String Ã  droite.  Des
  | > 	-- guillemets sont ajoutÃ©es autour de la Unbounded_String 
  | > 	-- Il s'agit d'un masquage de l'opÃ©rteur & dÃ©fini dans Strings.Unbounded
  | 30c30
  | < 	-- Surcharge l'opérateur unaire "+" pour convertir une String
  | ---
  | > 	-- Surcharge l'opÃ©rateur unaire "+" pour convertir une String
  | 66c66
  | < 	-- Attention, c'est à l'appelant de libérer la mémoire associée en
  | ---
  | > 	-- Attention, c'est Ã  l'appelant de libÃ©rer la mÃ©moire associÃ©e en
  | 68c68
  | < 	-- Si Bavard est vrai, les insertions sont tracées (affichées).
  | ---
  | > 	-- Si Bavard est vrai, les insertions sont tracÃ©es (affichÃ©es).
  | 79c79
  | < 				Put_Line ("Après insertion de la clé " & Cles (I));
  | ---
  | > 				Put_Line ("AprÃ¨s insertion de la clÃ© " & Cles (I));
  | 108c108
  | < 	-- Tester suppression en commençant par les derniers éléments ajoutés
  | ---
  | > 	-- Tester suppression en commenÃ§ant par les derniers Ã©lÃ©ments ajoutÃ©s
  | 120c120
  | < 			Put_Line ("Après suppression de " & Cles (I) & " :");
  | ---
  | > 			Put_Line ("AprÃ¨s suppression de " & Cles (I) & " :");
  | 137c137
  | < 	-- Tester suppression en commençant les les premiers éléments ajoutés
  | ---
  | > 	-- Tester suppression en commenÃ§ant les les premiers Ã©lÃ©ments ajoutÃ©s
  | 168c168
  | < 		-- Tester supprimer sur un élément, celui à Indice dans Cles.
  | ---
  | > 		-- Tester supprimer sur un Ã©lÃ©ment, celui Ã  Indice dans Cles.
  | 201c201
  | < 		-- Tester enregistrer sur un élément présent, celui à Indice dans Cles.
  | ---
  | > 		-- Tester enregistrer sur un Ã©lÃ©ment prÃ©sent, celui Ã  Indice dans Cles.


================================================================================
## Fichiers qui DEVAIENT être modifiés
================================================================================

* Fichier lca_sujet.adb modifié... ok
* Fichier evaluer_alea_lca.adb modifié... ok
* Fichier lca.ads modifié... ok
* Fichier lca.adb modifié... ok
* Fichier th_sujet.adb modifié... ok
* Fichier test_th.adb modifié... ok
* Fichier evaluer_alea_th.adb modifié... ok
* Fichier th.ads modifié... ok
* Fichier th.adb modifié... ok


################################################################################
# Nettoyer
################################################################################

* Running gnatclean... ok


################################################################################
# Exercice 1
################################################################################


================================================================================
## Modifications de lca.ads
================================================================================

* Comparaison de lca.ads et fournis/lca.ads... différents

   |                                                                                                    >  with SDA_Exceptions; use SDA_Exceptions;
   |         Type T_Cle is private;                                                                     |          type T_Cle is private;
   |         Type T_Donnee is private;                                                                  |          type T_Donnee is private;
   |    Type T_cell;                                                                                    |          -- TODO : à compléter
   |    Type T_LCA is access T_cell;                                                                    <
   |    Type T_cell is record                                                                           <
   |       Cle : T_Cle;                                                                                 <
   |       Donnee : T_Donnee;                                                                           <
   |       suivant : T_LCA;                                                                             <
   |    end record;                                                                                     <


================================================================================
## Exécution de lca_sujet.adb
================================================================================

* Compilation de lca_sujet.adb... ok
* ./lca_sujet... ok
* valgrind ./lca_sujet... ok

================================================================================
## Exécution de test_lca.adb
================================================================================

* Compilation de test_lca.adb... ok

  | test_lca.adb:256:17: warning: variable "Inutile" is assigned but never read
  | test_lca.adb:279:35: warning: formal parameter "Cle" is not referenced

* ./test_lca... ok
* valgrind ./test_lca... ERREUR

  ! ==561551== Memcheck, a memory error detector
  ! ==561551== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==561551== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
  ! ==561551== Command: ./test_lca
  ! ==561551== 
  ! ==561551== 
  ! ==561551== HEAP SUMMARY:
  ! ==561551==     in use at exit: 1,312 bytes in 28 blocks
  ! ==561551==   total heap usage: 169 allocs, 141 frees, 12,672 bytes allocated
  ! ==561551== 
  ! ==561551== 1,312 (48 direct, 1,264 indirect) bytes in 1 blocks are definitely lost in loss record 24 of 24
  ! ==561551==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==561551==    by 0x4AD654E: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561551==    by 0x4B03A7C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561551==    by 0x4B1359E: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561551==    by 0x10DC66: test_lca__lca_string_integer__enregistrer__P321b.7 (lca.adb:53)
  ! ==561551==    by 0x10DAAC: test_lca__lca_string_integer__enregistrer.6 (lca.adb:40)
  ! ==561551==    by 0x10EFBC: test_lca__construire_exemple_sujet.3 (test_lca.adb:76)
  ! ==561551==    by 0x10F39A: test_lca__tester_supprimer_inverse.26 (test_lca.adb:114)
  ! ==561551==    by 0x10D33E: _ada_test_lca (test_lca.adb:371)
  ! ==561551==    by 0x10CBEC: main (b~test_lca.adb:288)
  ! ==561551== 
  ! ==561551== LEAK SUMMARY:
  ! ==561551==    definitely lost: 48 bytes in 1 blocks
  ! ==561551==    indirectly lost: 1,264 bytes in 27 blocks
  ! ==561551==      possibly lost: 0 bytes in 0 blocks
  ! ==561551==    still reachable: 0 bytes in 0 blocks
  ! ==561551==         suppressed: 0 bytes in 0 blocks
  ! ==561551== 
  ! ==561551== For lists of detected and suppressed errors, rerun with: -s
  ! ==561551== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)



################################################################################
# Exercice 2
################################################################################


================================================================================
## Différences entre lca.ads et th.ads
================================================================================

* Comparaison de lca.ads et th.ads... différents

   | -- Définition de structures de données associatives sous forme d'une liste                         |  with LCA;
   | -- chaînée associative (LCA).                                                                      <
   |                                                                                                    >          capacite : Integer ;
   |                                                                                                    >          -- fonction de hachage qui donne la veleur de hachage d'une Cle.
   |                                                                                                    >          with function hachage(Cle : in T_Cle) return Integer;
   |                                                                                                    >
   |                                                                                                    >  package TH is
   |                                                                                                    >          package p_LCA is
   |                                                                                                    >          new LCA (T_Cle => T_Cle, T_Donnee => T_Donnee);
   | package LCA is                                                                                     <
   |         -- Initialiser une Sda.  La Sda est vide.                                                  |          -- Initialiser un TH.  Le TH est vide.
   |         procedure Initialiser(Sda: out T_LCA) with                                                 |          procedure Initialiser(TH: out T_TH) with  
   |                 Post => Est_Vide (Sda);                                                            |                  Post => Est_Vide (TH);
   |         -- Est-ce qu'une Sda est vide ?                                                            |          -- Est-ce qu'un TH est vide ?
   |         function Est_Vide (Sda : T_LCA) return Boolean;                                            |          function Est_Vide (TH : T_TH) return Boolean;  
   |         -- Obtenir le nombre d'éléments d'une Sda.                                                 |          -- Obtenir le nombre d'éléments d'un TH.
   |         function Taille (Sda : in T_LCA) return Integer with                                       |          function Taille (TH : in T_TH) return Integer with  
   |                         and (Taille'Result = 0) = Est_Vide (Sda);                                  |                          and (Taille'Result = 0) = Est_Vide (TH);
   |         -- Enregistrer une Donnée associée à une Clé dans une Sda.                                 |          -- Enregistrer une DonnÃ©e associée Ã  une Cle dans un TH.
   |         -- Si la clé est déjà présente dans la Sda, sa donnée est changée.                         |          -- Si la clÃ© est dÃ©jÃ  prÃ©sente dans le TH, sa donnÃ©e est changÃ©e.
   |         procedure Enregistrer (Sda : in out T_LCA ; Cle : in T_Cle ; Donnee : in T_Donnee) with    |          procedure Enregistrer (TH : in out T_TH ; Cle : in T_Cle ; Donnee : in T_Donnee) with  
   |                 Post => Cle_Presente (Sda, Cle)                                                    |                  Post => Cle_Presente (TH, Cle)
   |                         and then (La_Donnee (Sda, Cle) = Donnee)                        -- donnée  |                          and then (La_Donnee (TH, Cle) = Donnee)                 -- donnÃ©e insÃ©rÃ
   |                         -- and then (if not (Cle_Presente (Sda, Cle)'Old) then Taille (Sda) = Tail |                          -- and then (if not (Cle_Presente (TH, Cle)'Old) then Taille (TH) = Taille
   |                         -- and then (if Cle_Presente (Sda, Cle)'Old then Taille (Sda) = Taille (Sd |                          -- and then (if Cle_Presente (TH, Cle)'Old then Taille (TH) = Taille (TH)'
   |         -- Supprimer la Donnée associée à une Clé dans une Sda.                                    |          -- Supprimer la DonnÃ©e associÃ©e Ã  une ClÃ© dans un TH.
   |         -- Exception : Cle_Absente_Exception si Clé n'est pas utilisée dans la Sda                 |          -- Exception : Cle_Absente_Exception si ClÃ© n'est pas utilisÃ©e dans le TH
   |         procedure Supprimer (Sda : in out T_LCA ; Cle : in T_Cle) with                             |          procedure Supprimer (TH : in out T_TH ; Cle : in T_Cle) with  
   |                 Post =>  Taille (Sda) = Taille (Sda)'Old - 1 -- un élément de moins                |                  Post =>  Taille (TH) = Taille (TH)'Old - 1 -- un Ã©lÃ©ment de moins
   |                         and not Cle_Presente (Sda, Cle);         -- la clé a été supprimée         |                          and not Cle_Presente (TH, Cle);         -- la clÃ© a Ã©tÃ© supprimÃ©e
   |         -- Savoir si une Clé est présente dans une Sda.                                            |          -- Savoir si une ClÃ© est prÃ©sente dans une Sda.
   |         function Cle_Presente (Sda : in T_LCA ; Cle : in T_Cle) return Boolean;                    |          function Cle_Presente (TH : in T_TH ; Cle : in T_Cle) return Boolean;  
   |         -- Obtenir la donnée associée à une Cle dans la Sda.                                       |          -- Obtenir la donnÃ©e associÃ©e Ã  une Cle dans le TH.
   |         -- Exception : Cle_Absente_Exception si Clé n'est pas utilisée dans l'Sda                  |          -- Exception : Cle_Absente_Exception si ClÃ© n'est pas utilisÃ©e dans l'TH
   |         function La_Donnee (Sda : in T_LCA ; Cle : in T_Cle) return T_Donnee;                      |     function La_Donnee (TH : in T_TH ; Cle : in T_Cle) return T_Donnee;  
   |                                                                                                    >          -- Supprimer tous les Ã©lÃ©ments d'un TH.
   |                                                                                                    >          procedure Vider (TH : in out T_TH) with  
   |                                                                                                    >                  Post => Est_Vide (TH);
   |         -- Supprimer tous les éléments d'une Sda.                                                  <
   |         procedure Vider (Sda : in out T_LCA) with                                                  <
   |                 Post => Est_Vide (Sda);                                                            <
   |                                                                                                    |          -- Appliquer un traitement (Traiter) pour chaque couple d'un TH.
   |         -- Appliquer un traitement (Traiter) pour chaque couple d'une Sda.                         <
   |         procedure Pour_Chaque (Sda : in T_LCA);                                                    |          procedure Pour_Chaque (TH : in T_TH);  
   |                                                                                                    <
   |                                                                                                    |     type T_tab_lca is array(1..capacite) of p_LCA.T_LCA ;
   |    Type T_cell;                                                                                    |         type T_TH is record  
   |    Type T_LCA is access T_cell;                                                                    |              Table : T_tab_lca;
   |    Type T_cell is record                                                                           <
   |       Cle : T_Cle;                                                                                 <
   |       Donnee : T_Donnee;                                                                           <
   |       suivant : T_LCA;                                                                             <
   |                                                                                                    |   end TH;
   | end LCA;                                                                                           <


================================================================================
## Différences entre test_lca.ads et test_th.ads
================================================================================

* Comparaison de test_lca.adb et test_th.adb... différents

   | with LCA;                                                                                          |  with TH;
   |         package LCA_String_Integer is                                                              |          package TH_String_Integer is
   |                 new LCA (T_Cle => Unbounded_String, T_Donnee => Integer);                          |                  new TH (Capacite => 11, T_Cle => Unbounded_String, T_Donnee => Integer, Hachage =>
   |         use LCA_String_Integer;                                                                    |          use TH_String_Integer;


================================================================================
## Exécution de th_sujet.adb
================================================================================

* Compilation de th_sujet.adb... ok

  | th.adb:1:09: warning: no entities of "Ada.Text_IO" are referenced
  | th.adb:1:30: warning: use clause for package "Text_IO" has no effect
  | th.adb:2:06: warning: no entities of "SDA_Exceptions" are referenced
  | th.adb:2:22: warning: use clause for package "SDA_Exceptions" has no effect

* ./th_sujet... ok
* valgrind ./th_sujet... ERREUR

  ! ==561570== Memcheck, a memory error detector
  ! ==561570== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==561570== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
  ! ==561570== Command: ./th_sujet
  ! ==561570== 
  ! ==561570== 
  ! ==561570== HEAP SUMMARY:
  ! ==561570==     in use at exit: 640 bytes in 14 blocks
  ! ==561570==   total heap usage: 14 allocs, 0 frees, 640 bytes allocated
  ! ==561570== 
  ! ==561570== 640 (48 direct, 592 indirect) bytes in 1 blocks are definitely lost in loss record 14 of 14
  ! ==561570==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==561570==    by 0x4AD654E: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561570==    by 0x4B03A7C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561570==    by 0x4B1359E: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561570==    by 0x10CC80: th_sujet__th_int_cc__p_lca__enregistrer__P210b.19 (lca.adb:53)
  ! ==561570==    by 0x10CAC6: th_sujet__th_int_cc__p_lca__enregistrer.18 (lca.adb:40)
  ! ==561570==    by 0x10D055: th_sujet__th_int_cc__enregistrer.16 (th.adb:58)
  ! ==561570==    by 0x10BDFC: _ada_th_sujet (th_sujet.adb:27)
  ! ==561570==    by 0x10BB6C: main (b~th_sujet.adb:290)
  ! ==561570== 
  ! ==561570== LEAK SUMMARY:
  ! ==561570==    definitely lost: 48 bytes in 1 blocks
  ! ==561570==    indirectly lost: 592 bytes in 13 blocks
  ! ==561570==      possibly lost: 0 bytes in 0 blocks
  ! ==561570==    still reachable: 0 bytes in 0 blocks
  ! ==561570==         suppressed: 0 bytes in 0 blocks
  ! ==561570== 
  ! ==561570== For lists of detected and suppressed errors, rerun with: -s
  ! ==561570== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)


================================================================================
## Exécution de test_th.adb
================================================================================

* Compilation de test_th.adb... ok

  | test_th.adb:256:17: warning: variable "Inutile" is assigned but never read
  | test_th.adb:279:35: warning: formal parameter "Cle" is not referenced

* ./test_th... ok
* valgrind ./test_th... ERREUR

  ! ==561584== Memcheck, a memory error detector
  ! ==561584== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==561584== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
  ! ==561584== Command: ./test_th
  ! ==561584== 
  ! ==561584== 
  ! ==561584== HEAP SUMMARY:
  ! ==561584==     in use at exit: 1,312 bytes in 28 blocks
  ! ==561584==   total heap usage: 169 allocs, 141 frees, 12,672 bytes allocated
  ! ==561584== 
  ! ==561584== 1,312 (48 direct, 1,264 indirect) bytes in 1 blocks are definitely lost in loss record 14 of 14
  ! ==561584==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==561584==    by 0x4AD654E: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561584==    by 0x4B03A7C: system__pool_global__allocate (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561584==    by 0x4B1359E: system__storage_pools__subpools__allocate_any_controlled (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561584==    by 0x10DC7E: test_th__th_string_integer__p_lca__enregistrer__P362b.14 (lca.adb:53)
  ! ==561584==    by 0x10DAC4: test_th__th_string_integer__p_lca__enregistrer.13 (lca.adb:40)
  ! ==561584==    by 0x10E589: test_th__th_string_integer__enregistrer.11 (th.adb:58)
  ! ==561584==    by 0x10F864: test_th__construire_exemple_sujet.5 (test_th.adb:76)
  ! ==561584==    by 0x10FC45: test_th__tester_supprimer_inverse.41 (test_th.adb:114)
  ! ==561584==    by 0x10D355: _ada_test_th (test_th.adb:371)
  ! ==561584==    by 0x10CBFC: main (b~test_th.adb:290)
  ! ==561584== 
  ! ==561584== LEAK SUMMARY:
  ! ==561584==    definitely lost: 48 bytes in 1 blocks
  ! ==561584==    indirectly lost: 1,264 bytes in 27 blocks
  ! ==561584==      possibly lost: 0 bytes in 0 blocks
  ! ==561584==    still reachable: 0 bytes in 0 blocks
  ! ==561584==         suppressed: 0 bytes in 0 blocks
  ! ==561584== 
  ! ==561584== For lists of detected and suppressed errors, rerun with: -s
  ! ==561584== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)



################################################################################
# Exercice 3
################################################################################


================================================================================
## Différences entre evaluer_alea_lca.ads et evaluer_alea_th.ads
================================================================================

* Comparaison de evaluer_alea_lca.adb et evaluer_alea_th.adb... différents

   | with LCA;                                                                                          |  with TH;
   |         package lca_integer_integer is                                                             |          -- la foction identité
   |         new LCA (T_Cle => Integer, T_Donnee => Integer);                                           |          function Identite(Cle: in Integer) return Integer is
   |     use lca_integer_integer;                                                                       |          begin
   |                                                                                                    >                  return Cle;
   |                                                                                                    >          end Identite;
   |                                                                                                    >
   |                                                                                                    >          package TH_int_int is
   |                                                                                                    >          new TH (Capacite => 1000, T_Cle => Integer, T_Donnee => Integer, Hachage => Identite);
   |                                                                                                    >      use TH_int_int;
   |                 -- faire un mise  à jour du Max et Min.                                            |                  -- mise à jour du Max et Min.
   |                 procedure Mise_A_Jour(Cle: Integer; Donnee: Integer) is                            |                  procedure Mise_A_jour(Cle: Integer; Donnee: Integer) is
   |                 end Mise_A_Jour;                                                                   |                  end Mise_A_jour;
   |                                 new Pour_Chaque(Mise_A_Jour);                                      |                                  new Pour_Chaque(Mise_A_jour);
   |                 sda : T_LCA;                                                                       |                  Sda: T_TH;  
   |                 -- Initialiser la LCA.                                                             |                  -- Initialiser la sda.
   |                 Initialiser(sda);                                                                  |                  Initialiser(Sda);
   |                                 Enregistrer(sda, nbr, La_Donnee(sda, nbr)+1);                      |                                  Enregistrer(Sda, nbr, La_Donnee(Sda, nbr)+1);
   |                                 when Cle_Absente_Exception => Enregistrer(sda, nbr, 1);            |                                  when Cle_Absente_Exception => Enregistrer(Sda, nbr, 1);
   |                 Determiner_Max_Min(sda);                                                           |                  Determiner_Max_Min(Sda);


================================================================================
## Exécutions de evaluer_alea_*
================================================================================

* Running gnatclean... ok
* Compilation de evaluer_alea_lca.adb... ok

  | evaluer_alea_lca.adb:77:39: warning: formal parameter "Cle" is not referenced

* Compilation de evaluer_alea_th.adb... ok

  | evaluer_alea_th.adb:83:39: warning: formal parameter "Cle" is not referenced
  | th.adb:1:09: warning: no entities of "Ada.Text_IO" are referenced
  | th.adb:1:30: warning: use clause for package "Text_IO" has no effect
  | th.adb:2:06: warning: no entities of "SDA_Exceptions" are referenced
  | th.adb:2:22: warning: use clause for package "SDA_Exceptions" has no effect


================================================================================
## Tests nominaux
================================================================================


--------------------------------------------------------------------------------
### Cas : Classique : dé à 6 faces, 100 tirages
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 6 100... ok

  | Borne  : 6
  | Taille : 100
  | Min : 13
  | Max : 20

* valgrind ./evaluer_alea_lca 6 100... ERREUR

  ! ==561626== Memcheck, a memory error detector
  ! ==561626== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==561626== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
  ! ==561626== Command: ./evaluer_alea_lca 6 100
  ! ==561626== 
  ! ==561626== 
  ! ==561626== HEAP SUMMARY:
  ! ==561626==     in use at exit: 96 bytes in 6 blocks
  ! ==561626==   total heap usage: 23 allocs, 17 frees, 10,864 bytes allocated
  ! ==561626== 
  ! ==561626== 96 (16 direct, 80 indirect) bytes in 1 blocks are definitely lost in loss record 6 of 6
  ! ==561626==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==561626==    by 0x4AD654E: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561626==    by 0x10BE7E: evaluer_alea_lca__lca_integer_integer__enregistrer.12 (lca.adb:40)
  ! ==561626==    by 0x10C67D: evaluer_alea_lca__calculer_statistiques.2 (evaluer_alea_lca.adb:109)
  ! ==561626==    by 0x10BC39: _ada_evaluer_alea_lca (evaluer_alea_lca.adb:142)
  ! ==561626==    by 0x10BA02: main (b~evaluer_alea_lca.adb:253)
  ! ==561626== 
  ! ==561626== LEAK SUMMARY:
  ! ==561626==    definitely lost: 16 bytes in 1 blocks
  ! ==561626==    indirectly lost: 80 bytes in 5 blocks
  ! ==561626==      possibly lost: 0 bytes in 0 blocks
  ! ==561626==    still reachable: 0 bytes in 0 blocks
  ! ==561626==         suppressed: 0 bytes in 0 blocks
  ! ==561626== 
  ! ==561626== For lists of detected and suppressed errors, rerun with: -s
  ! ==561626== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

* ./evaluer_alea_th 6 100... ok

  | Borne  : 6
  | Taille : 100
  | Min : 8
  | Max : 23

* valgrind ./evaluer_alea_th 6 100... ERREUR

  ! ==561628== Memcheck, a memory error detector
  ! ==561628== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  ! ==561628== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
  ! ==561628== Command: ./evaluer_alea_th 6 100
  ! ==561628== 
  ! ==561628== 
  ! ==561628== HEAP SUMMARY:
  ! ==561628==     in use at exit: 96 bytes in 6 blocks
  ! ==561628==   total heap usage: 23 allocs, 17 frees, 10,864 bytes allocated
  ! ==561628== 
  ! ==561628== 96 bytes in 6 blocks are definitely lost in loss record 1 of 1
  ! ==561628==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
  ! ==561628==    by 0x4AD654E: __gnat_malloc (in /usr/lib/x86_64-linux-gnu/libgnat-10.so)
  ! ==561628==    by 0x10BEAA: evaluer_alea_th__th_int_int__p_lca__enregistrer.20 (lca.adb:40)
  ! ==561628==    by 0x10C145: evaluer_alea_th__th_int_int__enregistrer.19 (th.adb:58)
  ! ==561628==    by 0x10C9D2: evaluer_alea_th__calculer_statistiques.2 (evaluer_alea_th.adb:116)
  ! ==561628==    by 0x10BC65: _ada_evaluer_alea_th (evaluer_alea_th.adb:149)
  ! ==561628==    by 0x10BA24: main (b~evaluer_alea_th.adb:255)
  ! ==561628== 
  ! ==561628== LEAK SUMMARY:
  ! ==561628==    definitely lost: 96 bytes in 6 blocks
  ! ==561628==    indirectly lost: 0 bytes in 0 blocks
  ! ==561628==      possibly lost: 0 bytes in 0 blocks
  ! ==561628==    still reachable: 0 bytes in 0 blocks
  ! ==561628==         suppressed: 0 bytes in 0 blocks
  ! ==561628== 
  ! ==561628== For lists of detected and suppressed errors, rerun with: -s
  ! ==561628== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)


--------------------------------------------------------------------------------
### Cas : Beaucoup de doubles
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 5 100... ok

  | Borne  : 5
  | Taille : 100
  | Min : 16
  | Max : 23

* ./evaluer_alea_th 5 100... ok

  | Borne  : 5
  | Taille : 100
  | Min : 13
  | Max : 28


--------------------------------------------------------------------------------
### Cas : Peu de doubles
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 100000 10... ok

  | Borne  : 100000
  | Taille : 10
  | Min : 1
  | Max : 1

* ./evaluer_alea_th 100000 10... ok

  | Borne  : 100000
  | Taille : 10
  | Min : 1
  | Max : 1


--------------------------------------------------------------------------------
### Cas : Limite pour Borne et Taille
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 2 2... ok

  | Borne  : 2
  | Taille : 2
  | Min : 1
  | Max : 1

* ./evaluer_alea_th 2 2... ok

  | Borne  : 2
  | Taille : 2
  | Min : 2
  | Max : 2


================================================================================
## Tests de robustesse
================================================================================


--------------------------------------------------------------------------------
### Cas : Deux entiers attendus
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ ZYT... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th XYZ ZYT... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Taille doit être un entier
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 10 ZYT... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 10 ZYT... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne doit être un entier
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ 30... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th XYZ 30... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne et Taille doivent être strictement positifs
--------------------------------------------------------------------------------

* ./evaluer_alea_lca -4 -10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th -4 -10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Taille doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 4 -10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 4 -10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca -4 10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th -4 10... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Il manque la taille (ou la borne)
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 5... ok

  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 5... ok

  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne doit être un entier ou il manque la taille
--------------------------------------------------------------------------------

* ./evaluer_alea_lca XYZ... ok

  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th XYZ... ok

  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Taille doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 4 0... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 4 0... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne doit être strictement positif
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 0 100... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 0 100... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Borne = 1 : Ne respecte pas la précondition de Calculer_Statistiques
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 1 100... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 1 100... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon


--------------------------------------------------------------------------------
### Cas : Taille = 1 : Ne respecte pas la précondition de Calculer_Statistiques
--------------------------------------------------------------------------------

* ./evaluer_alea_lca 10 1... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_lca Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon

* ./evaluer_alea_th 10 1... ok

  | Erreur d'entrée, vous devez entrer des nombres positifs >= 2.
  | 
  | Usage : ./evaluer_alea_th Borne Taille
  | 
  |    Borne  : les nombres sont tirés dans l'intervalle 1..Borne
  |    Taille : la taille de l'échantillon



################################################################################
# Nettoyer
################################################################################

* Running gnatclean... ok

<!-- vi: set ts=8: -->
